{"version":3,"file":"react-tag-input-component.cjs.production.min.js","sources":["../src/classnames.tsx","../src/tag.tsx","../src/index.tsx"],"sourcesContent":["/**\n * A minimal utility to combine classes\n *\n * @export\n * @param {(string[] | string)} obj\n * @returns {string}\n */\nexport default function cc(...obj: (string | number)[]): string {\n  return obj.join(\" \");\n}\n","import React from \"react\";\nimport { css } from \"goober\";\nimport cc from \"./classnames\";\n\ninterface TagProps {\n  text: string;\n  remove: any;\n  disabled?: boolean;\n}\n\nconst tagStyles = css({\n  alignItems: \"center\",\n  background: \"var(--rti-tag)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  padding: \"var(--rti-tag-padding)\",\n\n  button: {\n    background: \"none\",\n    border: 0,\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    lineHeight: \"inherit\",\n    padding: \"0 var(--rti-s)\",\n\n    \"&:hover\": {\n      color: \"var(--rti-tag-remove)\",\n    },\n  },\n});\n\nexport default function Tag({ text, remove, disabled }: TagProps) {\n  const handleOnRemove = e => {\n    e.stopPropagation();\n    remove(text);\n  };\n\n  return (\n    <span className={cc(\"rti--tag\", tagStyles)}>\n      <span>{text}</span>\n      {!disabled && (\n        <button\n          type=\"button\"\n          onClick={handleOnRemove}\n          aria-label={`remove ${text}`}\n        >\n          &#10005;\n        </button>\n      )}\n    </span>\n  );\n}\n","import { css, setup } from \"goober\";\nimport React, { useEffect, useState } from \"react\";\n\nimport cc from \"./classnames\";\nimport Tag from \"./tag\";\n\nexport interface TagsInputProps {\n  name?: string;\n  placeHolder?: string;\n  value?: string[];\n  onChange?: (tags: string[]) => void;\n  onBlur?: any;\n  seprators?: string[];\n  onExisting?: (tag: string) => void;\n  onRemoved?: (tag: string) => void;\n  disabled?: boolean;\n  isEditOnRemove?: boolean;\n  beforeAddValidate?: (tag: string, existingTags: string[]) => boolean;\n}\n\n// initialize goober once\nsetup(React.createElement);\n\nconst RTIContainer = css({\n  \"--rti-bg\": \"#fff\",\n  \"--rti-border\": \"#ccc\",\n  \"--rti-main\": \"#3182ce\",\n  \"--rti-radius\": \"0.375rem\",\n  \"--rti-s\": \"0.5rem\",\n  \"--rti-tag\": \"#edf2f7\",\n  \"--rti-tag-remove\": \"#e53e3e\",\n  \"--rti-tag-padding\": \"0.15rem 0.25rem\",\n\n  \"*\": {\n    boxSizing: \"border-box\",\n    transition: \"all 0.2s ease\",\n  },\n\n  alignItems: \"center\",\n  bg: \"var(--rti-bg)\",\n  border: \"1px solid var(--rti-border)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  gap: \"var(--rti-s)\",\n  lineHeight: 1.4,\n  padding: \"var(--rti-s)\",\n\n  \"&:focus-within\": {\n    borderColor: \"var(--rti-main)\",\n    boxShadow: \"var(--rti-main) 0px 0px 0px 1px\",\n  },\n});\n\nconst RTIInput = css({\n  border: 0,\n  outline: 0,\n  fontSize: \"inherit\",\n  lineHeight: \"inherit\",\n  width: \"50%\",\n});\n\nconst defaultSeprators = [\"Enter\"];\n\nexport const TagsInput = ({\n  name,\n  placeHolder,\n  value,\n  onChange,\n  onBlur,\n  seprators,\n  onExisting,\n  onRemoved,\n  disabled,\n  isEditOnRemove,\n  beforeAddValidate,\n}: TagsInputProps) => {\n  const [tags, setTags] = useState<any>(value || []);\n\n  useEffect(() => {\n    onChange && onChange(tags);\n  }, [tags]);\n\n  const handleOnKeyUp = e => {\n    e.stopPropagation();\n\n    const text = e.target.value;\n\n    if (e.key === \"Backspace\" && tags.length && !text) {\n      e.target.value = isEditOnRemove ? `${tags.at(-1)} ` : \"\";\n      setTags([...tags.slice(0, -1)]);\n    }\n\n    if (text && (seprators || defaultSeprators).includes(e.key)) {\n      if (beforeAddValidate && !beforeAddValidate(text, tags)) return;\n\n      if (tags.includes(text)) {\n        onExisting && onExisting(text);\n        return;\n      }\n      setTags([...tags, text]);\n      e.target.value = \"\";\n      e.preventDefault();\n    }\n  };\n\n  const onTagRemove = text => {\n    setTags(tags.filter(tag => tag !== text));\n    onRemoved && onRemoved(text);\n  };\n\n  return (\n    <div aria-labelledby={name} className={cc(\"rti--container\", RTIContainer)}>\n      {tags.map(tag => (\n        <Tag key={tag} text={tag} remove={onTagRemove} disabled={disabled} />\n      ))}\n\n      <input\n        className={cc(\"rti--input\", RTIInput)}\n        type=\"text\"\n        name={name}\n        placeholder={placeHolder}\n        onKeyDown={handleOnKeyUp}\n        onBlur={onBlur}\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n"],"names":["cc","obj","join","tagStyles","css","alignItems","background","borderRadius","display","justifyContent","padding","button","border","cursor","lineHeight","color","Tag","text","remove","disabled","React","className","type","onClick","e","stopPropagation","setup","createElement","RTIContainer","boxSizing","transition","bg","flexWrap","gap","borderColor","boxShadow","RTIInput","outline","fontSize","width","defaultSeprators","name","placeHolder","onChange","onBlur","seprators","onExisting","onRemoved","isEditOnRemove","beforeAddValidate","useState","value","tags","setTags","useEffect","onTagRemove","filter","tag","map","key","placeholder","onKeyDown","target","length","at","slice","includes","preventDefault"],"mappings":"iLAOwBA,+BAAMC,2BAAAA,yBACrBA,EAAIC,KAAK,KCElB,IAAMC,EAAYC,MAAI,CACpBC,WAAY,SACZC,WAAY,iBACZC,aAAc,oBACdC,QAAS,cACTC,eAAgB,SAChBC,QAAS,yBAETC,OAAQ,CACNL,WAAY,OACZM,OAAQ,EACRL,aAAc,MACdM,OAAQ,UACRC,WAAY,UACZJ,QAAS,2BAEE,CACTK,MAAO,qCAKWC,SAAMC,IAAAA,KAAMC,IAAAA,OAAQC,IAAAA,gBAOxCC,wBAAMC,UAAWrB,EAAG,WAAYG,IAC9BiB,4BAAOH,IACLE,GACAC,0BACEE,KAAK,SACLC,QAXe,SAAAC,GACrBA,EAAEC,kBACFP,EAAOD,2BAUqBA,SCxBhCS,QAAMN,EAAMO,eAEZ,IAAMC,EAAexB,MAAI,YACX,sBACI,oBACF,yBACE,qBACL,qBACE,6BACO,8BACC,sBAEhB,CACHyB,UAAW,aACXC,WAAY,iBAGdzB,WAAY,SACZ0B,GAAI,gBACJnB,OAAQ,8BACRL,aAAc,oBACdC,QAAS,OACTwB,SAAU,OACVC,IAAK,eACLnB,WAAY,IACZJ,QAAS,gCAES,CAChBwB,YAAa,kBACbC,UAAW,qCAITC,EAAWhC,MAAI,CACnBQ,OAAQ,EACRyB,QAAS,EACTC,SAAU,UACVxB,WAAY,UACZyB,MAAO,QAGHC,EAAmB,CAAC,2BAED,gBACvBC,IAAAA,KACAC,IAAAA,YAEAC,IAAAA,SACAC,IAAAA,OACAC,IAAAA,UACAC,IAAAA,WACAC,IAAAA,UACA5B,IAAAA,SACA6B,IAAAA,eACAC,IAAAA,oBAEwBC,aAVxBC,OAU+C,IAAxCC,OAAMC,OAEbC,aAAU,WACRX,GAAYA,EAASS,KACpB,CAACA,QAyBEG,EAAc,SAAAtC,GAClBoC,EAAQD,EAAKI,QAAO,SAAAC,UAAOA,IAAQxC,MACnC8B,GAAaA,EAAU9B,WAIvBG,yCAAsBqB,EAAMpB,UAAWrB,EAAG,iBAAkB4B,IACzDwB,EAAKM,KAAI,SAAAD,UACRrC,gBAACJ,GAAI2C,IAAKF,EAAKxC,KAAMwC,EAAKvC,OAAQqC,EAAapC,SAAUA,OAG3DC,yBACEC,UAAWrB,EAAG,aAAcoC,GAC5Bd,KAAK,OACLmB,KAAMA,EACNmB,YAAalB,EACbmB,UAvCgB,SAAArC,GACpBA,EAAEC,sBAEIR,EAAOO,EAAEsC,OAAOX,SAER,cAAV3B,EAAEmC,KAAuBP,EAAKW,SAAW9C,IAC3CO,EAAEsC,OAAOX,MAAQH,EAAoBI,EAAKY,IAAI,OAAQ,GACtDX,YAAYD,EAAKa,MAAM,GAAI,MAGzBhD,IAAS4B,GAAaL,GAAkB0B,SAAS1C,EAAEmC,KAAM,IACvDV,IAAsBA,EAAkBhC,EAAMmC,GAAO,UAErDA,EAAKc,SAASjD,eAChB6B,GAAcA,EAAW7B,IAG3BoC,YAAYD,GAAMnC,KAClBO,EAAEsC,OAAOX,MAAQ,GACjB3B,EAAE2C,mBAqBAvB,OAAQA,EACRzB,SAAUA"}