{"version":3,"file":"react-tag-input-component.cjs.development.js","sources":["../src/classnames.tsx","../src/tag.tsx","../src/index.tsx"],"sourcesContent":["/**\n * A minimal utility to combine classes\n *\n * @export\n * @param {(string[] | string)} obj\n * @returns {string}\n */\nexport default function cc(...obj: (string | number)[]): string {\n  return obj.join(\" \");\n}\n","import React from \"react\";\nimport { css } from \"goober\";\nimport cc from \"./classnames\";\n\ninterface TagProps {\n  text: string;\n  remove: any;\n  disabled?: boolean;\n}\n\nconst tagStyles = css({\n  alignItems: \"center\",\n  background: \"var(--rti-tag)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  padding: \"var(--rti-tag-padding)\",\n\n  button: {\n    background: \"none\",\n    border: 0,\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    lineHeight: \"inherit\",\n    padding: \"0 var(--rti-s)\",\n\n    \"&:hover\": {\n      color: \"var(--rti-tag-remove)\",\n    },\n  },\n});\n\nexport default function Tag({ text, remove, disabled }: TagProps) {\n  const handleOnRemove = e => {\n    e.stopPropagation();\n    remove(text);\n  };\n\n  return (\n    <span className={cc(\"rti--tag\", tagStyles)}>\n      <span>{text}</span>\n      {!disabled && (\n        <button\n          type=\"button\"\n          onClick={handleOnRemove}\n          aria-label={`remove ${text}`}\n        >\n          &#10005;\n        </button>\n      )}\n    </span>\n  );\n}\n","import { css, setup } from \"goober\";\nimport React, { useEffect, useState } from \"react\";\n\nimport cc from \"./classnames\";\nimport Tag from \"./tag\";\n\nexport interface TagsInputProps {\n  name?: string;\n  placeHolder?: string;\n  value?: string[];\n  onChange?: (tags: string[]) => void;\n  onBlur?: any;\n  seprators?: string[];\n  onExisting?: (tag: string) => void;\n  onRemoved?: (tag: string) => void;\n  disabled?: boolean;\n  isEditOnRemove?: boolean;\n  beforeAddValidate?: (tag: string, existingTags: string[]) => boolean;\n}\n\n// initialize goober once\nsetup(React.createElement);\n\nconst RTIContainer = css({\n  \"--rti-bg\": \"#fff\",\n  \"--rti-border\": \"#ccc\",\n  \"--rti-main\": \"#3182ce\",\n  \"--rti-radius\": \"0.375rem\",\n  \"--rti-s\": \"0.5rem\",\n  \"--rti-tag\": \"#edf2f7\",\n  \"--rti-tag-remove\": \"#e53e3e\",\n  \"--rti-tag-padding\": \"0.15rem 0.25rem\",\n\n  \"*\": {\n    boxSizing: \"border-box\",\n    transition: \"all 0.2s ease\",\n  },\n\n  alignItems: \"center\",\n  bg: \"var(--rti-bg)\",\n  border: \"1px solid var(--rti-border)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  gap: \"var(--rti-s)\",\n  lineHeight: 1.4,\n  padding: \"var(--rti-s)\",\n\n  \"&:focus-within\": {\n    borderColor: \"var(--rti-main)\",\n    boxShadow: \"var(--rti-main) 0px 0px 0px 1px\",\n  },\n});\n\nconst RTIInput = css({\n  border: 0,\n  outline: 0,\n  fontSize: \"inherit\",\n  lineHeight: \"inherit\",\n  width: \"50%\",\n});\n\nconst defaultSeprators = [\"Enter\"];\n\nexport const TagsInput = ({\n  name,\n  placeHolder,\n  value,\n  onChange,\n  onBlur,\n  seprators,\n  onExisting,\n  onRemoved,\n  disabled,\n  isEditOnRemove,\n  beforeAddValidate,\n}: TagsInputProps) => {\n  const [tags, setTags] = useState<any>(value || []);\n\n  useEffect(() => {\n    onChange && onChange(tags);\n  }, [tags]);\n\n  const handleOnKeyUp = e => {\n    e.stopPropagation();\n\n    const text = e.target.value;\n\n    if (e.key === \"Backspace\" && tags.length && !text) {\n      e.target.value = isEditOnRemove ? `${tags.at(-1)} ` : \"\";\n      setTags([...tags.slice(0, -1)]);\n    }\n\n    if (text && (seprators || defaultSeprators).includes(e.key)) {\n      if (beforeAddValidate && !beforeAddValidate(text, tags)) return;\n\n      if (tags.includes(text)) {\n        onExisting && onExisting(text);\n        return;\n      }\n      setTags([...tags, text]);\n      e.target.value = \"\";\n      e.preventDefault();\n    }\n  };\n\n  const onTagRemove = text => {\n    setTags(tags.filter(tag => tag !== text));\n    onRemoved && onRemoved(text);\n  };\n\n  return (\n    <div aria-labelledby={name} className={cc(\"rti--container\", RTIContainer)}>\n      {tags.map(tag => (\n        <Tag key={tag} text={tag} remove={onTagRemove} disabled={disabled} />\n      ))}\n\n      <input\n        className={cc(\"rti--input\", RTIInput)}\n        type=\"text\"\n        name={name}\n        placeholder={placeHolder}\n        onKeyDown={handleOnKeyUp}\n        onBlur={onBlur}\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n"],"names":["cc","obj","join","tagStyles","css","alignItems","background","borderRadius","display","justifyContent","padding","button","border","cursor","lineHeight","color","Tag","text","remove","disabled","handleOnRemove","e","stopPropagation","React","className","type","onClick","setup","createElement","RTIContainer","boxSizing","transition","bg","flexWrap","gap","borderColor","boxShadow","RTIInput","outline","fontSize","width","defaultSeprators","TagsInput","name","placeHolder","value","onChange","onBlur","seprators","onExisting","onRemoved","isEditOnRemove","beforeAddValidate","useState","tags","setTags","useEffect","handleOnKeyUp","target","key","length","at","slice","includes","preventDefault","onTagRemove","filter","tag","map","placeholder","onKeyDown"],"mappings":"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"}