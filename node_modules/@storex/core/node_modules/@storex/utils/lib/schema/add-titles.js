"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const get_prop_type_1 = require("./get-prop-type");
function addTitles(jsonSchema, { keyDict, keyFunc } = {}) {
    let type;
    if (jsonSchema && jsonSchema.type) {
        type = get_prop_type_1.getPropType(jsonSchema);
    }
    if (!jsonSchema || type !== "object") {
        throw TypeError("[AddTitle]:: Invalid Json Schema");
    }
    if (typeof jsonSchema.properties !== "object") {
        return;
    }
    for (const key in jsonSchema.properties) {
        const prop = jsonSchema.properties[key];
        const type = get_prop_type_1.getPropType(prop);
        if (!prop.title) {
            prop.title = transform(key);
        }
        if (type === "object") {
            addTitles(prop, { keyDict: (keyDict || {})[key], keyFunc });
        }
    }
    function transform(key) {
        if (keyDict && keyDict[key]) {
            return keyDict[key];
        }
        if (typeof keyFunc === "function") {
            return keyFunc(key);
        }
        return key;
    }
}
exports.addTitles = addTitles;
//# sourceMappingURL=add-titles.js.map